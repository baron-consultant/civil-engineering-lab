---
import { IMAGE_BASE_PATH, VIDEO_BASE_PATH } from '../config';
import VideoModal from './../../../components/VideoModal.astro';

const videoModals = [
  { id: 'modal-add', videoSrc: `${VIDEO_BASE_PATH}/video/block_add.mp4` },
];
---

<section id="group22" class="block02">
<!-- 타이틀 -->
<div class="page-tit-wrap">
  <div class="tit-box">
    <span class="page-tail"></span>
    <h3>
      작업화면에서&nbsp;<span>객체를 선택</span>하여&nbsp;
      <span>블록을 생성</span>하고&nbsp;
      <span>관리</span>
    </h3>
    <span class="page-tail"></span>
  </div>
  <div class="tip-box">
    <h4 class="tip-tit">How to use</h4>
    <dl>
      <dt>방식 1</dt>
      <dd>명령어 입력창&nbsp;&nbsp;>&nbsp;&nbsp;Command : BLOCK</dd>
    </dl>
    <dl>
      <dt>방식 2</dt>
      <dd>
        명령어
        전체보기&nbsp;&nbsp;>&nbsp;&nbsp;블록&nbsp;&nbsp;>&nbsp;&nbsp;<img
          src={`${IMAGE_BASE_PATH}/ico/ico_block.svg`}
          alt=""
        />&nbsp;&nbsp;블록 만들기&nbsp;&nbsp;>&nbsp;&nbsp;블록 통합 관리창
      </dd>
    </dl>
  </div>
</div>

<!-- // 타이틀 -->
<div class="contents">
  <div class="inner">
    <picture>
      <source media="(max-resolution: 139dpi)" srcset={`${IMAGE_BASE_PATH}/block/block_02.png`} />
      <source
        media="(min-resolution: 140dpi)"
        srcset={`${IMAGE_BASE_PATH}/block/2x_block_02.png`}
      />
      <img class="bg-img" src={`${IMAGE_BASE_PATH}/block/block_02.png`} alt=" " />
    </picture>
    <div class="ex-wrap">
      <img src={`${IMAGE_BASE_PATH}/block/block_02.svg`} alt="" />
    </div>
     <!-- 링크 -->
      <ul>
        <li>
          <button type="button" class="link-add" data-modal="modal-add">
            <span class="blind">블록 추가하기</span>
          </button>
        </li>
      </ul>
      <!-- // 링크 -->
  </div>
</div>

  <!-- 모달들 -->
  {videoModals.map(modal => (
    <VideoModal id={modal.id} videoSrc={modal.videoSrc} />
  ))}
</section>

<script>
  import { initModalController } from './../../../lib/modalController';
  
  // 초기 로드
  initModalController();
  
  // Astro 페이지 전환 시에도 재실행
  document.addEventListener('astro:page-load', () => {
    initModalController();
  });
</script>
